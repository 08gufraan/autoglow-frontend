<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoGlow - Premium Vehicle Care Service</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 1);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #667eea;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        .hero .btn-primary{
            border: 1px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            
        }

        .btn-secondary {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
/*            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);*/
background-color: black;
            display: flex;
            align-items: center;
            color: white;
            position: relative;
            overflow: hidden;
            background-clip: ;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            z-index: 2;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: slideInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: slideInUp 1s ease-out 0.2s both;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            animation: slideInUp 1s ease-out 0.4s both;
        }

        /*.floating-cars {
            position: absolute;
            top: 50%;
            right: 5%;
            transform: translateY(-50%);
            font-size: 8rem;
            opacity: 0.1;
            animation: float 3s ease-in-out infinite;
        }*/

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            50% { transform: translateY(-70%) rotate(5deg); }
        }

        /* About Section */
        .about {
            padding: 5rem 0;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .testimonials .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: white;
            background-clip: text;
        }
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            color: #555;
        }

        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .feature {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Services Section */
        .services {
            padding: 5rem 0;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .service-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            text-align: center;
        }

        .service-card:hover {
            transform: translateY(-10px);
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #333;
        }

        .price {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin: 1rem 0;
        }

        .price-list {
            list-style: none;
            margin: 1rem 0;
        }

        .price-list li {
            padding: 0.3rem 0;
            color: #666;
        }

        /* Testimonials Section */
        .testimonials {
            padding: 5rem 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .testimonial-author {
            font-weight: bold;
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 0 1rem 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #667eea;
        }

        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            display: block;
            margin: 0.5rem 0;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: #667eea;
            cursor: pointer;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-links a {
            font-size: 1.5rem;
            display: inline-block;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            border-radius: 15px;
            position: relative;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 0.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: #bdc3c7;
        }

        .close:hover {
            color: #333;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .otp-section {
            display: none;
        }

        .otp-input {
            text-align: center;
            font-size: 1.2rem;
            letter-spacing: 0.5rem;
        }

        .alert {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .user-menu {
            display: none;
            position: relative;
        }

        .user-btn {
            background: none;
            border: none;
            color: #333;
            font-size: 1rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .user-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            padding: 0.5rem;
            min-width: 150px;
        }

        .user-dropdown a {
            display: block;
            padding: 0.5rem 1rem;
            color: #333;
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        .user-dropdown a:hover {
            background: #f0f0f0;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
        #myVideo {
  position: absolute;
  z-index: 2;
  right: 0;
  bottom: 0;
  width: 100%;
  opacity: 0.5;
}
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <img src="images/logo1.png" alt="logo" style="width:50%;height: 100px;" />
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#testimonials">Reviews</a></li>
            </ul>
            <div class="auth-buttons" id="authButtons">
                <button class="btn btn-secondary" onclick="openModal('loginModal')">Login</button>
                <button class="btn btn-primary" onclick="openModal('signupModal')">Sign Up</button>
            </div>
            <div class="user-menu" id="userMenu">
                <button class="user-btn" onclick="toggleUserDropdown()">
                    <span id="userName">User</span> ▼
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="/booking.html">Dashboard</a>
                    <a href="#" onclick="logout()">Logout</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <video autoplay muted loop id="myVideo">
  <source src="images/background video.mp4" type="video/mp4">
</video>
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Premium Vehicle Care</h1>
            <p>Experience the ultimate convenience with our pickup and drop vehicle washing service. Professional care, delivered to your doorstep.</p>
            <div class="hero-buttons">
                <a href="#services" class="btn btn-primary">View Services</a>
                <button class="btn btn-primary" onclick="openModal('signupModal')">Get Started</button>
            </div>
        </div>
        <!-- <div class="floating-cars">🚗💨</div> -->
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title">Why Choose AutoGlow?</h2>
            <div class="about-content">
                <div class="about-text">
                    <h3>Convenience Redefined</h3>
                    <p>At AutoGlow, we understand your time is valuable. That's why we bring professional vehicle care directly to you. Our trained professionals pick up your vehicle from your location, provide expert cleaning services at our partner facilities, and return it sparkling clean.</p>
                    <p>With our advanced booking system, transparent pricing, and commitment to quality, we're revolutionizing how you care for your vehicle.</p>
                </div>
                <div class="about-features">
                    <div class="feature">
                        <div class="feature-icon">🚗</div>
                        <h4>Pickup & Drop</h4>
                        <p>We handle the logistics</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">⭐</div>
                        <h4>Premium Quality</h4>
                        <p>Professional results</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">📱</div>
                        <h4>Easy Booking</h4>
                        <p>Book in minutes</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">🔒</div>
                        <h4>Fully Insured</h4>
                        <p>Your peace of mind</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <h2 class="section-title">Our Services & Pricing</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon"><img src="/images/sedan car.jpg" style="width:100%" /></div>
                    <h3>Car Services</h3>
                    <div class="price-list">
                        <li>Basic Wash - <b>₹350</b></li>
                        <li>Premium Wash - <b>₹450</b></li>
                        <li>Pet Hair Removal - <b>₹700</b></li>
                        <li>Interior Cleaning - <b>₹1500</b></li>
                    </div>
                    <button class="btn btn-primary" onclick="bookService('car')">Book Now</button>
                </div>
                
                <div class="service-card">
                    <div class="service-icon"><img src="/images/SUV car.jpg" style="width:100%" /></div>
                    <h3>SUV Services</h3>
                    <div class="price-list">
                        <li>Basic Wash - <b>₹399</b></li>
                        <li>Premium Wash - <b>₹499</b></li>
                        <li>Pet Hair Removal - <b>₹999</b></li>
                        <li>Interior Cleaning - <b>₹1999</b></li>
                    </div>
                    <button class="btn btn-primary" onclick="bookService('suv')">Book Now</button>
                </div>
                
                <div class="service-card">
                    <div class="service-icon"><img src="/images/motorcycle.jpg" style="width:100%;" /></div>
                    <h3>Motorcycle Services</h3>
                    <div class="price-list">
                        <li>Basic Wash - <b>₹120</b></li>
                        <li>Premium Wash - <b>₹150</b></li>
                        <li>Ceramic Coating - <b>₹3000</b></li>
                    </div>
                    <button class="btn btn-primary" onclick="bookService('motorcycle')">Book Now</button>
                </div>
                
                <!-- <div class="service-card">
                    <div class="service-icon">🚛</div>
                    <h3>Truck Services</h3>
                    <div class="price-list">
                        <li>Basic Wash - ₹499</li>
                        <li>Premium Wash - ₹699</li>
                        <li>Full Detail - ₹1199</li>
                        <li>Ceramic Coating - ₹1899</li>
                    </div>
                    <button class="btn btn-primary" onclick="bookService('truck')">Book Now</button>
                </div> -->
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Customers Say</h2>
            <div class="testimonials-grid">
                <div class="testimonial">
                    <div class="testimonial-text">"AutoGlow saved me so much time! They picked up my car while I was at work and returned it spotless. Absolutely fantastic service!"</div>
                    <div class="testimonial-author">- Rajesh Kumar, IT Professional</div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-text">"The convenience is unmatched. As a busy parent, having my SUV picked up and cleaned while I'm at home with the kids is a game-changer."</div>
                    <div class="testimonial-author">- Priya Sharma, Mother of Two</div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-text">"Professional service at great prices. My luxury car received premium care and the ceramic coating looks amazing!"</div>
                    <div class="testimonial-author">- Arjun Singh, Business Owner</div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-text">"Reliable, efficient, and trustworthy. I've been using AutoGlow for 6 months and they never disappoint."</div>
                    <div class="testimonial-author">- Sneha Patel, Marketing Manager</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>AutoGlow</h3>
                    <p>Premium vehicle care services with convenient pickup and drop facility. Your satisfaction is our priority.</p>
                    <div class="social-links">
                        <a href="#" title="Facebook">📘</a>
                        <a href="#" title="Instagram">📷</a>
                        <a href="#" title="Twitter">🐦</a>
                        <a href="#" title="LinkedIn">💼</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <a href="#about">About Us</a>
                    <a href="#services">Services</a>
                    <a href="#testimonials">Testimonials</a>
                    <a href="/booking">Book Now</a>
                </div>
                <div class="footer-section">
                    <h3>Services</h3>
                    <a onclick="bookService()">Basic Wash</a>
                    <a onclick="bookService()">Premium Wash</a>
                    <a onclick="bookService()">Full Detail</a>
                    <a onclick="bookService()">Ceramic Coating</a>
                </div>
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <a href="tel:+917030380512">📞 +91 7030380512 - GUFRAN</a>
                    <a href="tel:+919665432544">📞 +91 9665432544 - IMTIYAZ</a>
                    <a href="mailto:info@autoglow.com">✉️ info@autoglow.com</a>
                    <a href="#">📍 Pune, Maharashtra</a>
                    <a href="#">🕒 9:00 AM - 9:00 PM</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 AutoGlow. All rights reserved. | Privacy Policy | Terms of Service</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2>Login to AutoGlow</h2>
            <div class="alert alert-error" id="loginError"></div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                Don't have an account? <a href="#" onclick="closeModal('loginModal'); openModal('signupModal');">Sign up here</a>
            </p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signupModal')">&times;</span>
            <h2>Join AutoGlow</h2>
            <div class="alert alert-success" id="signupSuccess"></div>
            <div class="alert alert-error" id="signupError"></div>
            
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <button type="button" class="btn btn-secondary" onclick="sendOTP()" id="sendOtpBtn" style="width: 100%; margin-bottom: 1rem;">Send OTP</button>
                
                <div class="otp-section" id="otpSection">
                    <div class="form-group">
                        <label for="otpInput">Enter OTP</label>
                        <input type="text" id="otpInput" class="otp-input" maxlength="6" placeholder="000000">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="signupPhone">Phone Number</label>
                    <input type="tel" id="signupPhone" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                Already have an account? <a href="#" onclick="closeModal('signupModal'); openModal('loginModal');">Login here</a>
            </p>
        </div>
    </div>

    <script>
        const API_BASE_URL = window.location.hostname === 'localhost'
  ? 'http://localhost:3000/api'
  : 'https://autoglow-backend.onrender.com/api';

        let authToken = localStorage.getItem('authToken');
        let currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateAuthUI();
            
            // Form event listeners
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('signupForm').addEventListener('submit', handleSignup);
        });

        // Update authentication UI
        function updateAuthUI() {
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            
            if (authToken && currentUser) {
                authButtons.style.display = 'none';
                userMenu.style.display = 'block';
                document.getElementById('userName').textContent = currentUser.name;
            } else {
                authButtons.style.display = 'flex';
                userMenu.style.display = 'none';
            }
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            clearAlerts();
        }

        // User dropdown toggle
        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('userMenu');
            const dropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });

        // Send OTP function
        async function sendOTP() {
            const email = document.getElementById('signupEmail').value;
            
            if (!email) {
                showAlert('signupError', 'Please enter your email first');
                return;
            }

            const sendBtn = document.getElementById('sendOtpBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = 'Sending...';

            try {
                const response = await fetch(`${API_BASE_URL}/send-otp`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email })
                });

                const data = await response.json();

                if (data.success) {
                    showAlert('signupSuccess', 'OTP sent to your email successfully!');
                    document.getElementById('otpSection').style.display = 'block';
                    sendBtn.textContent = 'OTP Sent ✓';
                } else {
                    showAlert('signupError', data.message);
                    sendBtn.disabled = false;
                    sendBtn.textContent = 'Send OTP';
                }
            } catch (error) {
                console.error('Error sending OTP:', error);
                showAlert('signupError', 'Failed to send OTP. Please try again.');
                sendBtn.disabled = false;
                sendBtn.textContent = 'Send OTP';
            }
        }

        // Handle signup
        async function handleSignup(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const otp = document.getElementById('otpInput').value;

            if (!otp) {
                showAlert('signupError', 'Please enter the OTP sent to your email');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ name, email, phone, password, otp })
                });

                const data = await response.json();

                if (data.success) {
                    // Store auth data
                    localStorage.setItem('authToken', data.token);
                    localStorage.setItem('currentUser', JSON.stringify(data.user));
                    authToken = data.token;
                    currentUser = data.user;
                    
                    showAlert('signupSuccess', 'Account created successfully!');
                    setTimeout(() => {
                        closeModal('signupModal');
                        updateAuthUI();
                    }, 1500);
                } else {
                    showAlert('signupError', data.message);
                }
            } catch (error) {
                console.error('Signup error:', error);
                showAlert('signupError', 'Registration failed. Please try again.');
            }
        }

        // Handle login
        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                const response = await fetch(`${API_BASE_URL}/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();

                if (data.success) {
                    // Store auth data
                    localStorage.setItem('authToken', data.token);
                    localStorage.setItem('currentUser', JSON.stringify(data.user));
                    authToken = data.token;
                    currentUser = data.user;
                    
                    closeModal('loginModal');
                    updateAuthUI();
                } else {
                    showAlert('loginError', data.message);
                }
            } catch (error) {
                console.error('Login error:', error);
                showAlert('loginError', 'Login failed. Please try again.');
            }
        }

        // Logout function
        function logout() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            authToken = null;
            currentUser = null;
            updateAuthUI();
        }

        // Book service function
        function bookService(vehicleType) {
            if (!authToken) {
                openModal('loginModal');
                return;
            }
            
            // Redirect to booking page with vehicle type
            window.location.href = `/booking?vehicle=${vehicleType}`;
        }

        // Alert functions
        function showAlert(alertId, message) {
            const alertElement = document.getElementById(alertId);
            alertElement.textContent = message;
            alertElement.style.display = 'block';
            
            setTimeout(() => {
                alertElement.style.display = 'none';
            }, 5000);
        }

        function clearAlerts() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                alert.style.display = 'none';
            });
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>